# æ™ºèƒ½å®¢æœç³»ç»Ÿå¼€å‘æ–‡æ¡£

## 1. ç³»ç»Ÿæ¶æ„è®¾è®¡

### 1.1 æ•´ä½“æŠ€æœ¯æ¶æ„

#### æ–¹å¼ä¸€ï¼šåˆ†å±‚æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ™ºèƒ½å®¢æœç³»ç»Ÿæ¶æ„                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ–¥ï¸  å‰ç«¯å±‚ (Frontend Layer)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”¨æˆ·ç«¯: ChatUI + React     â”‚  ç®¡ç†ç«¯: Ant Design + React  â”‚
â”‚  â€¢ èŠå¤©ç•Œé¢ç»„ä»¶             â”‚  â€¢ çŸ¥è¯†åº“ç®¡ç†ç•Œé¢             â”‚
â”‚  â€¢ å¯Œæ–‡æœ¬æ¸²æŸ“å™¨             â”‚  â€¢ æ–‡æ¡£ç®¡ç†ç•Œé¢               â”‚
â”‚  â€¢ è¯­éŸ³äº¤äº’ç»„ä»¶             â”‚  â€¢ ç³»ç»Ÿç›‘æ§ç•Œé¢               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†•ï¸ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ  APIç½‘å…³å±‚ (API Gateway - FastAPI)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ç”¨æˆ·API (èŠå¤©ã€ä¼šè¯)     â”‚  â€¢ ç®¡ç†API (çŸ¥è¯†åº“ã€æ–‡æ¡£)    â”‚
â”‚  â€¢ è®¤è¯æˆæƒä¸­é—´ä»¶           â”‚  â€¢ è·¨åŸŸå¤„ç†ä¸­é—´ä»¶             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†•ï¸ å†…éƒ¨è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸  ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic Layer)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ChatService              â”‚  â€¢ KnowledgeService          â”‚
â”‚  â€¢ DocumentService          â”‚  â€¢ VectorService             â”‚
â”‚  â€¢ RetrievalService         â”‚  â€¢ SessionService            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†•ï¸ æ•°æ®å¤„ç†
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤–  AIå¤„ç†å±‚ (AI Processing Layer)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  RAG-Anythingå¼•æ“           â”‚  LightRAGå¼•æ“                â”‚
â”‚  â€¢ PDF/Word/MDè§£æå™¨        â”‚  â€¢ æ–‡æ¡£åˆ‡ç‰‡å™¨                 â”‚
â”‚  â€¢ å†…å®¹æå–å™¨               â”‚  â€¢ å‘é‡ç¼–ç å™¨                 â”‚
â”‚                             â”‚  â€¢ çŸ¥è¯†å›¾è°±æ„å»ºå™¨             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  å¤§è¯­è¨€æ¨¡å‹æ¥å£: OpenAI GPT / æœ¬åœ°æ¨¡å‹ / æç¤ºè¯å¼•æ“        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†•ï¸ æ•°æ®å­˜å‚¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¾  æ•°æ®å­˜å‚¨å±‚ (Data Storage Layer)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PostgreSQL        â”‚  ChromaDB         â”‚  Redis            â”‚
â”‚  â€¢ ç”¨æˆ·ä¼šè¯æ•°æ®    â”‚  â€¢ æ–‡æ¡£å‘é‡å­˜å‚¨   â”‚  â€¢ ä¼šè¯çŠ¶æ€ç¼“å­˜   â”‚
â”‚  â€¢ çŸ¥è¯†åº“å…ƒæ•°æ®    â”‚  â€¢ å‘é‡ç´¢å¼•       â”‚  â€¢ æ£€ç´¢ç»“æœç¼“å­˜   â”‚
â”‚  â€¢ ç³»ç»Ÿé…ç½®æ•°æ®    â”‚  â€¢ ç›¸ä¼¼åº¦æ£€ç´¢     â”‚  â€¢ ç³»ç»Ÿé…ç½®ç¼“å­˜   â”‚
â”‚                    â”‚                   â”‚                   â”‚
â”‚  æ–‡ä»¶å­˜å‚¨ (æœ¬åœ°/äº‘å­˜å‚¨): åŸå§‹æ–‡æ¡£ + è§£æç¼“å­˜ + æ—¥å¿—æ–‡ä»¶    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ–¹å¼äºŒï¼šç»„ä»¶å…³ç³»å›¾
```
ç”¨æˆ·ç«¯ç•Œé¢ â”€â”€â”€â”€â”€â”€â”
               â”‚
ç®¡ç†ç«¯ç•Œé¢ â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â–º FastAPIç½‘å…³ â”€â”€â”€â”€â”€â”€â”
               â”‚                          â”‚
ç§»åŠ¨ç«¯åº”ç”¨ â”€â”€â”€â”€â”€â”€â”˜                          â”‚
                                          â–¼
                                   ä¸šåŠ¡æœåŠ¡å±‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Chat    â”‚
                                   â”‚ Service â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                   â–¼                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Knowledge   â”‚    â”‚ Document    â”‚    â”‚ Vector      â”‚
            â”‚ Service     â”‚    â”‚ Service     â”‚    â”‚ Service     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                   â”‚                   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â–¼
                                 AIå¤„ç†å¼•æ“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                   â–¼                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ RAG-        â”‚    â”‚ LightRAG    â”‚    â”‚ LLM         â”‚
            â”‚ Anything    â”‚    â”‚ Engine      â”‚    â”‚ Interface   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                   â”‚                   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â–¼
                                   æ•°æ®å­˜å‚¨
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ PostgreSQL  â”‚    â”‚ ChromaDB    â”‚    â”‚ Redis +     â”‚
            â”‚ å…³ç³»æ•°æ®    â”‚    â”‚ å‘é‡æ•°æ®    â”‚    â”‚ æ–‡ä»¶å­˜å‚¨    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ–¹å¼ä¸‰ï¼šæ•°æ®æµå‘å›¾
```
ğŸ“± ç”¨æˆ·è¾“å…¥
    â”‚
    â–¼
ğŸŒ APIç½‘å…³ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        â”‚
    â–¼                        â–¼
ğŸ’¬ èŠå¤©æœåŠ¡                ğŸ“š çŸ¥è¯†åº“æœåŠ¡
    â”‚                        â”‚
    â–¼                        â–¼
ğŸ” æ£€ç´¢æœåŠ¡ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ“„ æ–‡æ¡£å¤„ç†
    â”‚                        â”‚
    â–¼                        â–¼
ğŸ¤– AIå¼•æ“                  ğŸ§® å‘é‡åŒ–
    â”‚                        â”‚
    â–¼                        â–¼
ğŸ“Š ç»“æœåˆæˆ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ’¾ å‘é‡å­˜å‚¨
    â”‚
    â–¼
ğŸ“± ç”¨æˆ·å›å¤

å›¾ä¾‹è¯´æ˜:
ğŸ“± ç”¨æˆ·ç•Œé¢    ğŸŒ APIå±‚     ğŸ’¬ ä¸šåŠ¡é€»è¾‘
ğŸ” æ£€ç´¢å¼•æ“    ğŸ¤– AIå¤„ç†    ğŸ“Š æ•°æ®å¤„ç†
ğŸ“š çŸ¥è¯†ç®¡ç†    ğŸ“„ æ–‡æ¡£å¤„ç†   ğŸ§® å‘é‡è®¡ç®—
ğŸ’¾ æ•°æ®å­˜å‚¨
```

### 1.2 æ ¸å¿ƒæŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ç»„ä»¶ | å…·ä½“æŠ€æœ¯ | ç‰ˆæœ¬è¦æ±‚ |
|------|----------|----------|----------|
| **å‰ç«¯å±‚** | ç”¨æˆ·ç•Œé¢ | React + TypeScript | 18+ |
| | UIç»„ä»¶ | é˜¿é‡ŒChatUI + Ant Design | æœ€æ–°ç‰ˆ |
| | çŠ¶æ€ç®¡ç† | React Hooks + Context | - |
| **APIå±‚** | Webæ¡†æ¶ | Python FastAPI | 0.104+ |
| | è®¤è¯æˆæƒ | JWT + OAuth2 | - |
| | æ–‡æ¡£ç”Ÿæˆ | OpenAPI + Swagger | è‡ªåŠ¨ç”Ÿæˆ |
| **ä¸šåŠ¡å±‚** | å¼€å‘è¯­è¨€ | Python | 3.11+ |
| | å¼‚æ­¥å¤„ç† | asyncio + uvloop | - |
| | ä»»åŠ¡é˜Ÿåˆ— | Celery + Redis | - |
| **AIå±‚** | æ–‡æ¡£è§£æ | RAG-Anything | 0.1+ |
| | å‘é‡å¼•æ“ | LightRAG | 0.1+ |
| | è¯­è¨€æ¨¡å‹ | OpenAI GPT / æœ¬åœ°æ¨¡å‹ | - |
| | å‘é‡æ¨¡å‹ | sentence-transformers | 2.2+ |
| **å­˜å‚¨å±‚** | å…³ç³»æ•°æ®åº“ | PostgreSQL | 15+ |
| | å‘é‡æ•°æ®åº“ | ChromaDB | 0.4+ |
| | ç¼“å­˜ç³»ç»Ÿ | Redis | 7+ |
| | æ–‡ä»¶å­˜å‚¨ | æœ¬åœ°å­˜å‚¨ / äº‘å­˜å‚¨ | - |
| **éƒ¨ç½²å±‚** | å®¹å™¨åŒ– | Docker + Docker Compose | - |
| | åå‘ä»£ç† | Nginx | 1.20+ |
| | ç›‘æ§æ—¥å¿— | Prometheus + Grafana | - |

## 2. æ¨¡å—è®¾è®¡ä¸åŠŸèƒ½

### 2.1 å‰ç«¯æ¨¡å—è®¾è®¡

#### 2.1.1 ç”¨æˆ·ç«¯æ¨¡å— (ChatUI)
```
frontend/src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx        # ä¸»èŠå¤©ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx        # æ¶ˆæ¯æ°”æ³¡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ RichTextRenderer.tsx     # å¯Œæ–‡æœ¬æ¸²æŸ“å™¨
â”‚   â”‚   â”œâ”€â”€ VoiceInput.tsx           # è¯­éŸ³è¾“å…¥ç»„ä»¶
â”‚   â”‚   â””â”€â”€ QuickReplies.tsx         # å¿«é€Ÿå›å¤ç»„ä»¶
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ Loading.tsx              # åŠ è½½ç»„ä»¶
â”‚       â””â”€â”€ ErrorBoundary.tsx        # é”™è¯¯è¾¹ç•Œ
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ chatService.ts               # èŠå¤©APIæœåŠ¡
â”‚   â”œâ”€â”€ voiceService.ts              # è¯­éŸ³å¤„ç†æœåŠ¡
â”‚   â””â”€â”€ websocketService.ts          # WebSocketè¿æ¥æœåŠ¡
â””â”€â”€ utils/
    â”œâ”€â”€ messageFormatter.ts          # æ¶ˆæ¯æ ¼å¼åŒ–å·¥å…·
    â””â”€â”€ audioUtils.ts                # éŸ³é¢‘å¤„ç†å·¥å…·
```

**æ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹**ï¼š
1. **å¯Œæ–‡æœ¬æ¸²æŸ“**ï¼šä½¿ç”¨react-markdown + react-syntax-highlighterå®ç°Markdownã€ä»£ç å—ã€è¡¨æ ¼çš„å®Œæ•´æ¸²æŸ“
2. **è¯­éŸ³äº¤äº’**ï¼šé›†æˆWeb Speech APIå®ç°è¯­éŸ³è½¬æ–‡å­—ï¼Œå¤„ç†æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜
3. **å®æ—¶é€šä¿¡**ï¼šWebSocketè¿æ¥ç®¡ç†ï¼Œæ–­çº¿é‡è¿æœºåˆ¶
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šè™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§é‡å†å²æ¶ˆæ¯ï¼Œæ¶ˆæ¯æ‡’åŠ è½½

#### 2.1.2 ç®¡ç†ç«¯æ¨¡å— (Ant Design)
```
frontend/src/admin/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ KnowledgeBase/
â”‚   â”‚   â”œâ”€â”€ KnowledgeBaseList.tsx    # çŸ¥è¯†åº“åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ KnowledgeBaseEdit.tsx    # çŸ¥è¯†åº“ç¼–è¾‘
â”‚   â”‚   â””â”€â”€ DocumentManagement.tsx   # æ–‡æ¡£ç®¡ç†
â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”œâ”€â”€ Overview.tsx             # ç³»ç»Ÿæ¦‚è§ˆ
â”‚   â”‚   â”œâ”€â”€ Analytics.tsx            # æ•°æ®åˆ†æ
â”‚   â”‚   â””â”€â”€ Monitoring.tsx           # å®æ—¶ç›‘æ§
â”‚   â””â”€â”€ Settings/
â”‚       â”œâ”€â”€ SystemConfig.tsx         # ç³»ç»Ÿé…ç½®
â”‚       â””â”€â”€ UserManagement.tsx       # ç”¨æˆ·ç®¡ç†
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ FileUpload/
â”‚   â”‚   â”œâ”€â”€ DragUpload.tsx           # æ‹–æ‹½ä¸Šä¼ ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ProgressTracker.tsx      # ä¸Šä¼ è¿›åº¦è·Ÿè¸ª
â”‚   â””â”€â”€ DataVisualization/
â”‚       â”œâ”€â”€ Charts.tsx               # å›¾è¡¨ç»„ä»¶
â”‚       â””â”€â”€ Tables.tsx               # æ•°æ®è¡¨æ ¼
â””â”€â”€ services/
    â”œâ”€â”€ knowledgeService.ts          # çŸ¥è¯†åº“APIæœåŠ¡
    â”œâ”€â”€ documentService.ts           # æ–‡æ¡£APIæœåŠ¡
    â””â”€â”€ analyticsService.ts          # åˆ†æAPIæœåŠ¡
```

**æ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹**ï¼š
1. **æ–‡ä»¶ä¸Šä¼ **ï¼šå¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ï¼Œæ–­ç‚¹ç»­ä¼ ï¼Œè¿›åº¦æ˜¾ç¤º
2. **å®æ—¶çŠ¶æ€æ›´æ–°**ï¼šæ–‡æ¡£å¤„ç†çŠ¶æ€çš„å®æ—¶æ›´æ–°æ˜¾ç¤º
3. **æ•°æ®å¯è§†åŒ–**ï¼šä½¿ç”¨EChartsæˆ–D3.jså®ç°å¤æ‚å›¾è¡¨
4. **æƒé™æ§åˆ¶**ï¼šåŸºäºè§’è‰²çš„é¡µé¢å’ŒåŠŸèƒ½æƒé™æ§åˆ¶

### 2.2 åç«¯æ¨¡å—è®¾è®¡

#### 2.2.1 APIå±‚è®¾è®¡
```
backend/app/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ v1/
â”‚   â”‚   â”œâ”€â”€ chat.py                  # èŠå¤©ç›¸å…³API
â”‚   â”‚   â”œâ”€â”€ knowledge.py             # çŸ¥è¯†åº“ç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ documents.py             # æ–‡æ¡£ç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ analytics.py             # æ•°æ®åˆ†æAPI
â”‚   â”‚   â””â”€â”€ admin.py                 # ç®¡ç†å‘˜API
â”‚   â””â”€â”€ middleware/
â”‚       â”œâ”€â”€ auth.py                  # è®¤è¯ä¸­é—´ä»¶
â”‚       â”œâ”€â”€ cors.py                  # è·¨åŸŸä¸­é—´ä»¶
â”‚       â””â”€â”€ rate_limit.py            # é™æµä¸­é—´ä»¶
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ user.py                      # ç”¨æˆ·æ¨¡å‹
â”‚   â”œâ”€â”€ session.py                   # ä¼šè¯æ¨¡å‹
â”‚   â”œâ”€â”€ knowledge_base.py            # çŸ¥è¯†åº“æ¨¡å‹
â”‚   â”œâ”€â”€ document.py                  # æ–‡æ¡£æ¨¡å‹
â”‚   â””â”€â”€ message.py                   # æ¶ˆæ¯æ¨¡å‹
â””â”€â”€ schemas/
    â”œâ”€â”€ chat_schemas.py              # èŠå¤©ç›¸å…³æ•°æ®æ¨¡å¼
    â”œâ”€â”€ knowledge_schemas.py         # çŸ¥è¯†åº“æ•°æ®æ¨¡å¼
    â””â”€â”€ admin_schemas.py             # ç®¡ç†ç›¸å…³æ•°æ®æ¨¡å¼
```

**æ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹**ï¼š
1. **å¼‚æ­¥å¤„ç†**ï¼šä½¿ç”¨asyncioå¤„ç†å¤§é‡å¹¶å‘è¯·æ±‚
2. **æ•°æ®éªŒè¯**ï¼šPydanticæ¨¡å‹ç¡®ä¿æ•°æ®å®Œæ•´æ€§å’Œç±»å‹å®‰å…¨
3. **é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶å’Œé”™è¯¯å“åº”æ ¼å¼
4. **APIç‰ˆæœ¬ç®¡ç†**ï¼šæ”¯æŒå¤šç‰ˆæœ¬APIçš„å‘åå…¼å®¹

#### 2.2.2 ä¸šåŠ¡é€»è¾‘å±‚è®¾è®¡
```
backend/app/services/
â”œâ”€â”€ chat/
â”‚   â”œâ”€â”€ chat_service.py              # èŠå¤©æ ¸å¿ƒæœåŠ¡
â”‚   â”œâ”€â”€ session_manager.py           # ä¼šè¯ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ context_manager.py           # ä¸Šä¸‹æ–‡ç®¡ç†æœåŠ¡
â”‚   â””â”€â”€ response_generator.py        # å›å¤ç”ŸæˆæœåŠ¡
â”œâ”€â”€ knowledge/
â”‚   â”œâ”€â”€ knowledge_service.py         # çŸ¥è¯†åº“ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ document_parser.py           # æ–‡æ¡£è§£ææœåŠ¡
â”‚   â”œâ”€â”€ vector_service.py            # å‘é‡åŒ–æœåŠ¡
â”‚   â””â”€â”€ retrieval_service.py         # æ£€ç´¢æœåŠ¡
â”œâ”€â”€ ai/
â”‚   â”œâ”€â”€ llm_service.py               # å¤§è¯­è¨€æ¨¡å‹æœåŠ¡
â”‚   â”œâ”€â”€ prompt_manager.py            # æç¤ºè¯ç®¡ç†æœåŠ¡
â”‚   â””â”€â”€ intent_classifier.py        # æ„å›¾è¯†åˆ«æœåŠ¡
â””â”€â”€ common/
    â”œâ”€â”€ file_service.py              # æ–‡ä»¶å¤„ç†æœåŠ¡
    â”œâ”€â”€ cache_service.py             # ç¼“å­˜æœåŠ¡
    â””â”€â”€ notification_service.py      # é€šçŸ¥æœåŠ¡
```

**æ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹**ï¼š
1. **RAGé›†æˆ**ï¼šRAG-Anythingå’ŒLightRAGçš„æ·±åº¦é›†æˆå’Œä¼˜åŒ–
2. **å‘é‡æ£€ç´¢ä¼˜åŒ–**ï¼šå‘é‡ç›¸ä¼¼åº¦è®¡ç®—çš„æ€§èƒ½ä¼˜åŒ–
3. **ä¸Šä¸‹æ–‡ç®¡ç†**ï¼šå¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡ä¿æŒå’Œç®¡ç†
4. **å¼‚æ­¥ä»»åŠ¡å¤„ç†**ï¼šæ–‡æ¡£å¤„ç†çš„å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†

### 2.3 AIå¤„ç†æ¨¡å—è®¾è®¡

#### 2.3.1 æ–‡æ¡£è§£æå¼•æ“ (RAG-Anything)
```python
class DocumentParserService:
    """æ–‡æ¡£è§£ææœåŠ¡ - åŸºäºRAG-Anything"""
    
    def __init__(self):
        self.parsers = {
            'pdf': PDFParser(),
            'docx': WordParser(),
            'txt': TextParser(),
            'md': MarkdownParser()
        }
    
    async def parse_document(self, file_path: str, doc_type: str) -> ParseResult:
        """è§£ææ–‡æ¡£å¹¶æå–ç»“æ„åŒ–å†…å®¹"""
        parser = self.parsers.get(doc_type)
        if not parser:
            raise UnsupportedDocumentType(doc_type)
        
        # ä½¿ç”¨RAG-Anythingè¿›è¡Œæ™ºèƒ½è§£æ
        raw_result = await parser.parse(file_path)
        
        # å†…å®¹æ¸…æ´—å’Œç»“æ„åŒ–
        structured_content = self._structure_content(raw_result)
        
        # å…ƒæ•°æ®æå–
        metadata = self._extract_metadata(raw_result)
        
        return ParseResult(
            content=structured_content,
            metadata=metadata,
            chunks=self._create_chunks(structured_content)
        )
```

**æ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹**ï¼š
1. **å¤šæ ¼å¼æ”¯æŒ**ï¼šç»Ÿä¸€å¤„ç†PDFã€Wordã€Markdownç­‰ä¸åŒæ ¼å¼
2. **å†…å®¹ç»“æ„è¯†åˆ«**ï¼šè¯†åˆ«æ ‡é¢˜ã€æ®µè½ã€è¡¨æ ¼ã€åˆ—è¡¨ç­‰æ–‡æ¡£ç»“æ„
3. **æ–‡æœ¬æ¸…æ´—**ï¼šå»é™¤æ ¼å¼å™ªå£°ï¼Œä¿ç•™è¯­ä¹‰ä¿¡æ¯
4. **å…ƒæ•°æ®æå–**ï¼šæå–ä½œè€…ã€åˆ›å»ºæ—¶é—´ã€å…³é”®è¯ç­‰å…ƒä¿¡æ¯

#### 2.3.2 å‘é‡åŒ–å¼•æ“ (LightRAG)
```python
class VectorService:
    """å‘é‡åŒ–æœåŠ¡ - åŸºäºLightRAG"""
    
    def __init__(self, config: VectorConfig):
        self.rag_engine = LightRAG(
            working_dir=config.working_dir,
            llm_model_func=config.llm_model,
            embedding_func=config.embedding_func
        )
        self.vector_store = ChromaDBStore(config.chroma_config)
    
    async def vectorize_document(self, document: Document) -> VectorResult:
        """æ–‡æ¡£å‘é‡åŒ–å¤„ç†"""
        # 1. æ™ºèƒ½åˆ†å—
        chunks = await self._intelligent_chunking(document.content)
        
        # 2. å‘é‡ç¼–ç 
        embeddings = await self._generate_embeddings(chunks)
        
        # 3. çŸ¥è¯†å›¾è°±æ„å»º
        knowledge_graph = await self.rag_engine.build_graph(document.content)
        
        # 4. å‘é‡å­˜å‚¨
        vector_ids = await self.vector_store.store_vectors(
            embeddings, chunks, document.metadata
        )
        
        return VectorResult(
            vector_ids=vector_ids,
            chunk_count=len(chunks),
            graph_nodes=knowledge_graph.nodes,
            graph_edges=knowledge_graph.edges
        )
    
    async def _intelligent_chunking(self, content: str) -> List[str]:
        """æ™ºèƒ½åˆ†å—ç­–ç•¥"""
        # åŸºäºè¯­ä¹‰è¾¹ç•Œçš„æ™ºèƒ½åˆ†å—
        # è€ƒè™‘å¥å­å®Œæ•´æ€§ã€æ®µè½ç»“æ„ã€è¯­ä¹‰è¿è´¯æ€§
        pass
```

**æ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹**ï¼š
1. **æ™ºèƒ½åˆ†å—**ï¼šåŸºäºè¯­ä¹‰è¾¹ç•Œè€Œéå›ºå®šé•¿åº¦çš„æ™ºèƒ½åˆ†å—
2. **å‘é‡ä¼˜åŒ–**ï¼šé€‰æ‹©åˆé€‚çš„embeddingæ¨¡å‹å’Œå‚æ•°
3. **çŸ¥è¯†å›¾è°±æ„å»º**ï¼šå®ä½“è¯†åˆ«å’Œå…³ç³»æŠ½å–
4. **æ£€ç´¢ä¼˜åŒ–**ï¼šæ··åˆæ£€ç´¢ç­–ç•¥ï¼ˆå‘é‡+å…³é”®è¯+å›¾è°±ï¼‰

## 3. æ•°æ®æ¨¡å‹è®¾è®¡

### 3.1 æ ¸å¿ƒæ•°æ®æ¨¡å‹å…³ç³»

#### ERå…³ç³»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     1:N     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     1:N     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   Session   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   Message   â”‚
â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
â”‚ â€¢ id        â”‚             â”‚ â€¢ id        â”‚             â”‚ â€¢ id        â”‚
â”‚ â€¢ username  â”‚             â”‚ â€¢ user_id   â”‚             â”‚ â€¢ session_idâ”‚
â”‚ â€¢ email     â”‚             â”‚ â€¢ title     â”‚             â”‚ â€¢ content   â”‚
â”‚ â€¢ role      â”‚             â”‚ â€¢ status    â”‚             â”‚ â€¢ sender    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:N
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     1:N     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     1:N     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚KnowledgeBaseâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  Document   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚DocumentChunkâ”‚
â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
â”‚ â€¢ id        â”‚             â”‚ â€¢ id        â”‚             â”‚ â€¢ id        â”‚
â”‚ â€¢ name      â”‚             â”‚ â€¢ kb_id     â”‚             â”‚ â€¢ doc_id    â”‚
â”‚ â€¢ owner_id  â”‚             â”‚ â€¢ title     â”‚             â”‚ â€¢ content   â”‚
â”‚ â€¢ status    â”‚             â”‚ â€¢ content   â”‚             â”‚ â€¢ vector_id â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â€¢ doc_type  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚ â€¢ status    â”‚                    â”‚
       â”‚ 1:N                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ 1:1
       â–¼                           â”‚                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚ M:N                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Category   â”‚                   â–¼                    â”‚VectorEmbeddingâ”‚
â”‚             â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚             â”‚
â”‚ â€¢ id        â”‚            â”‚DocumentTag  â”‚             â”‚ â€¢ id        â”‚
â”‚ â€¢ name      â”‚            â”‚             â”‚             â”‚ â€¢ chunk_id  â”‚
â”‚ â€¢ kb_id     â”‚            â”‚ â€¢ doc_id    â”‚             â”‚ â€¢ embedding â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â€¢ tag_name  â”‚             â”‚ â€¢ metadata  â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ•°æ®æµå…³ç³»
```
ç”¨æˆ·åˆ›å»º â†’ çŸ¥è¯†åº“ â†’ ä¸Šä¼ æ–‡æ¡£ â†’ è§£æå¤„ç† â†’ ç”Ÿæˆå‘é‡ â†’ å­˜å‚¨ç´¢å¼•
   â†“         â†“         â†“         â†“         â†“         â†“
ä¼šè¯ç®¡ç† â†’ æ¶ˆæ¯è®°å½• â†’ å†…å®¹æ£€ç´¢ â†’ AIå¤„ç† â†’ ç»“æœç”Ÿæˆ â†’ ç”¨æˆ·å›å¤
```

### 3.2 æ•°æ®åº“è¡¨è®¾è®¡

#### 3.2.1 ç”¨æˆ·å’Œä¼šè¯ç›¸å…³è¡¨
```sql
-- ç”¨æˆ·è¡¨
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE,
    password_hash VARCHAR(255),
    role VARCHAR(20) DEFAULT 'user',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ä¼šè¯è¡¨
CREATE TABLE sessions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id),
    title VARCHAR(200),
    status VARCHAR(20) DEFAULT 'active',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_activity TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ¶ˆæ¯è¡¨
CREATE TABLE messages (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    session_id UUID REFERENCES sessions(id),
    sender_type VARCHAR(10) NOT NULL, -- 'user', 'ai', 'admin'
    content TEXT NOT NULL,
    message_type VARCHAR(20) DEFAULT 'text',
    metadata JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 3.2.2 çŸ¥è¯†åº“ç›¸å…³è¡¨
```sql
-- çŸ¥è¯†åº“è¡¨
CREATE TABLE knowledge_bases (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(100) NOT NULL,
    description TEXT,
    owner_id UUID REFERENCES users(id),
    status VARCHAR(20) DEFAULT 'active',
    document_count INTEGER DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ–‡æ¡£è¡¨
CREATE TABLE documents (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    knowledge_base_id UUID REFERENCES knowledge_bases(id),
    title VARCHAR(200) NOT NULL,
    content TEXT,
    doc_type VARCHAR(20) NOT NULL,
    status VARCHAR(20) DEFAULT 'uploaded',
    file_path VARCHAR(500),
    file_size BIGINT,
    metadata JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    processed_at TIMESTAMP
);

-- æ–‡æ¡£å—è¡¨
CREATE TABLE document_chunks (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    document_id UUID REFERENCES documents(id),
    content TEXT NOT NULL,
    chunk_index INTEGER NOT NULL,
    vector_id VARCHAR(100),
    metadata JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## 4. æ¥å£è®¾è®¡è§„èŒƒ

### 4.1 RESTful APIè®¾è®¡åŸåˆ™
- **èµ„æºå¯¼å‘**ï¼šURLè¡¨ç¤ºèµ„æºï¼ŒHTTPæ–¹æ³•è¡¨ç¤ºæ“ä½œ
- **çŠ¶æ€ç è§„èŒƒ**ï¼šæ­£ç¡®ä½¿ç”¨HTTPçŠ¶æ€ç 
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šé€šè¿‡URLè·¯å¾„è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ `/api/v1/`
- **ç»Ÿä¸€å“åº”æ ¼å¼**ï¼šæ‰€æœ‰APIè¿”å›ç»Ÿä¸€çš„JSONæ ¼å¼

### 4.2 APIå“åº”æ ¼å¼
```json
{
  "success": true,
  "data": {},
  "message": "æ“ä½œæˆåŠŸ",
  "code": 200,
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### 4.3 æ ¸å¿ƒAPIæ¥å£

#### 4.3.1 èŠå¤©ç›¸å…³API
```
POST   /api/v1/chat/sessions          # åˆ›å»ºä¼šè¯
GET    /api/v1/chat/sessions          # è·å–ä¼šè¯åˆ—è¡¨
POST   /api/v1/chat/messages          # å‘é€æ¶ˆæ¯
GET    /api/v1/chat/sessions/{id}/messages  # è·å–ä¼šè¯æ¶ˆæ¯
DELETE /api/v1/chat/sessions/{id}     # åˆ é™¤ä¼šè¯
```

#### 4.3.2 çŸ¥è¯†åº“ç®¡ç†API
```
POST   /api/v1/knowledge/bases        # åˆ›å»ºçŸ¥è¯†åº“
GET    /api/v1/knowledge/bases        # è·å–çŸ¥è¯†åº“åˆ—è¡¨
PUT    /api/v1/knowledge/bases/{id}   # æ›´æ–°çŸ¥è¯†åº“
DELETE /api/v1/knowledge/bases/{id}   # åˆ é™¤çŸ¥è¯†åº“

POST   /api/v1/knowledge/bases/{id}/documents/upload  # ä¸Šä¼ æ–‡æ¡£
GET    /api/v1/knowledge/bases/{id}/documents         # è·å–æ–‡æ¡£åˆ—è¡¨
PUT    /api/v1/knowledge/bases/{id}/documents/{doc_id} # æ›´æ–°æ–‡æ¡£
DELETE /api/v1/knowledge/bases/{id}/documents/{doc_id} # åˆ é™¤æ–‡æ¡£

POST   /api/v1/knowledge/search       # çŸ¥è¯†æ£€ç´¢
```

## 5. æ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ

### 5.1 RAGæŠ€æœ¯é›†æˆ
**éš¾ç‚¹**ï¼šRAG-Anythingå’ŒLightRAGçš„æ·±åº¦é›†æˆ
**è§£å†³æ–¹æ¡ˆ**ï¼š
- è®¾è®¡ç»Ÿä¸€çš„æ–‡æ¡£å¤„ç†æµæ°´çº¿
- å®ç°æ’ä»¶åŒ–çš„è§£æå™¨æ¶æ„
- ä¼˜åŒ–å‘é‡æ£€ç´¢å’ŒçŸ¥è¯†å›¾è°±æŸ¥è¯¢çš„èåˆ

### 5.2 å¤§è§„æ¨¡å‘é‡æ£€ç´¢ä¼˜åŒ–
**éš¾ç‚¹**ï¼šæµ·é‡æ–‡æ¡£çš„å‘é‡æ£€ç´¢æ€§èƒ½
**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨HNSWç®—æ³•ä¼˜åŒ–å‘é‡ç´¢å¼•
- å®ç°åˆ†å±‚æ£€ç´¢ç­–ç•¥
- å¼•å…¥ç¼“å­˜æœºåˆ¶å‡å°‘é‡å¤è®¡ç®—

### 5.3 å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ç®¡ç†
**éš¾ç‚¹**ï¼šé•¿å¯¹è¯çš„ä¸Šä¸‹æ–‡ä¿æŒå’Œç†è§£
**è§£å†³æ–¹æ¡ˆ**ï¼š
- è®¾è®¡æ»‘åŠ¨çª—å£çš„ä¸Šä¸‹æ–‡ç®¡ç†æœºåˆ¶
- å®ç°å…³é”®ä¿¡æ¯çš„æŒä¹…åŒ–å­˜å‚¨
- ä½¿ç”¨æ³¨æ„åŠ›æœºåˆ¶çªå‡ºé‡è¦ä¸Šä¸‹æ–‡

### 5.4 å®æ—¶æ€§èƒ½ä¼˜åŒ–
**éš¾ç‚¹**ï¼šå¤§é‡å¹¶å‘è¯·æ±‚çš„å®æ—¶å“åº”
**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¼‚æ­¥å¤„ç†æ¶æ„
- è¿æ¥æ± å’Œç¼“å­˜ä¼˜åŒ–
- è´Ÿè½½å‡è¡¡å’Œæ°´å¹³æ‰©å±•

## 6. å®‰å…¨ä¸æ€§èƒ½è€ƒè™‘

### 6.1 å®‰å…¨è®¾è®¡
- **èº«ä»½è®¤è¯**ï¼šJWT Token + åˆ·æ–°æœºåˆ¶
- **æƒé™æ§åˆ¶**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)
- **æ•°æ®åŠ å¯†**ï¼šæ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- **APIå®‰å…¨**ï¼šè¯·æ±‚ç­¾åã€é™æµã€é˜²é‡æ”¾

### 6.2 æ€§èƒ½ä¼˜åŒ–
- **æ•°æ®åº“ä¼˜åŒ–**ï¼šç´¢å¼•ä¼˜åŒ–ã€æŸ¥è¯¢ä¼˜åŒ–ã€è¿æ¥æ± 
- **ç¼“å­˜ç­–ç•¥**ï¼šå¤šçº§ç¼“å­˜ã€ç¼“å­˜é¢„çƒ­ã€ç¼“å­˜æ›´æ–°
- **å¼‚æ­¥å¤„ç†**ï¼šæ¶ˆæ¯é˜Ÿåˆ—ã€ä»»åŠ¡è°ƒåº¦ã€æ‰¹å¤„ç†
- **CDNåŠ é€Ÿ**ï¼šé™æ€èµ„æºCDNã€APIå“åº”ç¼“å­˜

## 7. éƒ¨ç½²ä¸è¿ç»´

### 7.1 å®¹å™¨åŒ–éƒ¨ç½²
```yaml
# docker-compose.yml
version: '3.8'
services:
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
  
  backend:
    build: ./backend
    ports:
      - "8000:8000"
    depends_on:
      - postgres
      - redis
      - chromadb
  
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: ai_customer_service
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: password
  
  redis:
    image: redis:7-alpine
  
  chromadb:
    image: chromadb/chroma:latest
    ports:
      - "8001:8000"
```

### 7.2 ç›‘æ§ä¸æ—¥å¿—
- **åº”ç”¨ç›‘æ§**ï¼šPrometheus + Grafana
- **æ—¥å¿—æ”¶é›†**ï¼šELK Stack (Elasticsearch + Logstash + Kibana)
- **é”™è¯¯è¿½è¸ª**ï¼šSentry
- **æ€§èƒ½åˆ†æ**ï¼šAPMå·¥å…·

è¿™ä¸ªå¼€å‘æ–‡æ¡£ä»æ¶æ„å¸ˆçš„è§†è§’è¯¦ç»†æè¿°äº†ç³»ç»Ÿçš„æŠ€æœ¯æ¶æ„ã€æ¨¡å—è®¾è®¡ã€æ•°æ®æ¨¡å‹å’Œæ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹ï¼Œä¸ºå…·ä½“å®æ–½æä¾›äº†å®Œæ•´çš„æŠ€æœ¯æŒ‡å¯¼ã€‚